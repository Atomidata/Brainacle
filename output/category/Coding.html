<!DOCTYPE html>
<html lang="en">
<head>
        <title>Brainacle - Coding</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href=".././theme/css/main.css" type="text/css" />
        <link href=".././feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Brainacle ATOM Feed" />
        


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie.css"/>
                <script src=".././js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
    <a href="#index" id="goto-top">TOP</a>
    <a href="#extras" id="goto-bottom">Links/Blogroll</a>

<a href="https://github.com/dekomote/Brainacle">

<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />

</a>

        <header id="banner" class="body">
                <h1><a href="../."><img src=".././theme/images/brainacle_logo.png" alt="Brainacle "/></a></h1>
                <nav><ul>
                    <li><a href="../.">Home</a></li>
                
                
                
                
                
                    <li class="active"><a href=".././category/Coding.html">Coding</a></li>
                
                    <li ><a href=".././category/Miscellaneous.html">Miscellaneous</a></li>
                
                    <li ><a href=".././category/Sys.html">Sys</a></li>
                
                <li><a href=".././archives.html">Archives</a></li>
                </ul></nav>
        </header><!-- /#banner -->
                

        
    
        <aside id="featured" class="body"><article>
                <h1 class="entry-title"><a href=".././how-to-use-multiple-wmd-editors-on-a-same-page.html">HOW-TO: Use multiple WMD editors on a same page</a></h1> 
                <footer class="post-info">
                        <abbr class="published" title="2011-10-27T15:30:00">
                                Thu 27 October 2011
                        </abbr>

                        
                        <address class="vcard author">
                                By <a class="url fn" href="#">Dejan Noveski</a>
                        </address>
                        
                <p>In <a href=".././category/Coding.html">Coding</a>. </p>
                <p>tags: <a href=".././tag/wmd.html">wmd</a> <a href=".././tag/markdown.html">markdown</a> <a href=".././tag/javascript.html">javascript</a> <a href=".././tag/how-to.html">how-to</a> <a href=".././tag/coding.html">coding</a> </p>
</p>
                </footer><!-- /.post-info -->
                <p><a class="reference external" href="http://code.google.com/p/wmd/">WMD</a> editor resembles Stackoverflow's Markdown editor and it's probably one of
the best WYSIWYG editors that work with Markdown as input. Because of that, it's widely used in
Stackoverflow clones (i.e. <a class="reference external" href="http://http://www.osqa.net/">OSQA</a>). It's easy to install and use (just tie it to a
textarea), it supports the mostly used features, provided by this type of editors, but has 1 major flaw:
It doesn't support multiple textareas/multiple editors per page.</p>
<p>I've been working on an OSQA based platform recently when I stumbled across this issue. Since we didn't want to change
the editor completely, I had to improvise.</p>
<div class="section" id="javascript-to-the-rescue">
<h2>Javascript to the rescue!</h2>
<p>Going through WMD's code, I found a way to re-initialize the editor with different textarea. When that goes through, the
tool bar will be bound to the newly marked textarea and it will edit it's content. The fix is pretty simple actually
(my example uses jQuery, but i'm sure you will understand what it does):</p>
<div class="highlight"><pre>    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.wmd-textarea&quot;</span><span class="p">).</span><span class="nx">focus</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
            <span class="c1">// Execute this when a textarea with a class .wmd-textarea gains focus</span>

    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#wmd-button-bar&quot;</span><span class="p">).</span><span class="nx">prependTo</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">parent</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">));</span> <span class="c1">// Prepend the toolbox to the parent div of the textarea</span>

    <span class="nx">Attacklab</span><span class="p">.</span><span class="nx">panels</span><span class="p">.</span><span class="nx">input</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span> <span class="c1">// Set WMD&#39;s textarea input to this textarea</span>
    <span class="nx">Attacklab</span><span class="p">.</span><span class="nx">editor</span><span class="p">();</span> <span class="c1">// Re-init the editor.</span>
<span class="p">});</span>
</pre></div>
<p>What this block does is hook a function to the <em>focus</em> event of the textarea. Each time the textarea gains focus, it prepends
the toolbox to the input's parent element, sets it as the input and reinitializes the WMD editor. That simple.</p>
<p>If you don't want the toolbox to move -- i.e. you want a toolbox above each textarea, just paste the toolbox HTML as desired,
point <em>Attacklab.panels.buttonBar</em> to the toolbox tied to the textarea with the focus on it, and re-init the editor:</p>
<div class="highlight"><pre>    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.wmd-textarea&quot;</span><span class="p">).</span><span class="nx">focus</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
            <span class="c1">// Execute this when a textarea with a class .wmd-textarea gains focus</span>

    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#wmd-button-bar&quot;</span><span class="p">).</span><span class="nx">prependTo</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">parent</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">));</span> <span class="c1">// Prepend the toolbox to the parent div of the textarea</span>
    <span class="nx">Attacklab</span><span class="p">.</span><span class="nx">panels</span><span class="p">.</span><span class="nx">buttonBar</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">parent</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.wmd-toolbox&quot;</span><span class="p">);</span> <span class="c1">// Set WMD&#39;s textarea toolbox</span>
    <span class="nx">Attacklab</span><span class="p">.</span><span class="nx">panels</span><span class="p">.</span><span class="nx">input</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span> <span class="c1">// Set WMD&#39;s textarea input to this textarea</span>
    <span class="nx">Attacklab</span><span class="p">.</span><span class="nx">editor</span><span class="p">();</span> <span class="c1">// Re-init the editor.</span>
<span class="p">});</span>
</pre></div>
<p><strong>Note</strong> The above code blocks would work with this markup:</p>
<div class="highlight"><pre><span class="c">&lt;!-- HAVE A WMD EDITOR INITIALIZED SOMEWHERE IN YOUR HTML --&gt;</span>
<span class="nt">&lt;div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;wmd-toolbox&quot;</span><span class="nt">&gt;</span><span class="c">&lt;!-- HERE GOES TOOLBOX HTML - ONLY FOR PRESENTATION - REMOVE ID&#39;S. COPY IT FROM YOUR FULLY RENDERED PAGE SOURCE. --&gt;</span><span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;textarea</span> <span class="na">class=</span><span class="s">&quot;.wmd-textarea&quot;</span><span class="nt">&gt;&lt;/textarea&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;wmd-toolbox&quot;</span><span class="nt">&gt;</span><span class="c">&lt;!-- HERE GOES TOOLBOX HTML - ONLY FOR PRESENTATION - REMOVE ID&#39;S. COPY IT FROM YOUR FULLY RENDERED PAGE SOURCE. --&gt;</span><span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;textarea</span> <span class="na">class=</span><span class="s">&quot;.wmd-textarea&quot;</span><span class="nt">&gt;&lt;/textarea&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>

        </article></aside><!-- /#featured -->
        
            <section id="content" class="body">
                <h1>Other articles</h1>
                <hr />
                    <ol id="posts-list" class="hfeed">
        
    
        
     
        <li><article class="hentry">    
                <header>
                        <h1><a href=".././nautilus-minus-extension.html" rel="bookmark" title="Permalink to Nautilus-minus extension">Nautilus-minus extension</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
                        <abbr class="published" title="2011-02-14T19:01:00">
                                Mon 14 February 2011
                        </abbr>

                        <address class="vcard author">
                                By <a class="url fn" href="#">Dejan Noveski</a>
                        </address>
                        <p> In <a href=".././category/Coding.html">Coding</a></p>
                        <p>tags: <a href=".././tag/linux.html">linux</a> <a href=".././tag/coding.html">coding</a> <a href=".././tag/python.html">python</a> <a href=".././tag/gnome.html">gnome</a> <a href=".././tag/nautilus.html">nautilus</a> </p>
</p>
                    <p></p>
                </footer><!-- /.post-info -->
                <property object at 0x280a418>
                <a class="readmore" href=".././nautilus-minus-extension.html">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
    
        
     
        <li><article class="hentry">    
                <header>
                        <h1><a href=".././how-to-write-vim-plugins-with-python.html" rel="bookmark" title="Permalink to How to write vim plugins with python">How to write vim plugins with python</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
                        <abbr class="published" title="2011-02-03T14:58:00">
                                Thu 03 February 2011
                        </abbr>

                        <address class="vcard author">
                                By <a class="url fn" href="#">Dejan Noveski</a>
                        </address>
                        <p> In <a href=".././category/Coding.html">Coding</a></p>
                        <p>tags: <a href=".././tag/python.html">python</a> <a href=".././tag/plugin.html">plugin</a> <a href=".././tag/vim.html">vim</a> <a href=".././tag/coding.html">coding</a> </p>
</p>
                    <p></p>
                </footer><!-- /.post-info -->
                <property object at 0x222b0a8>
                <a class="readmore" href=".././how-to-write-vim-plugins-with-python.html">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
    
        
     
        <li><article class="hentry">    
                <header>
                        <h1><a href=".././w3cvalidatevim.html" rel="bookmark" title="Permalink to W3cValidate.vim">W3cValidate.vim</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
                        <abbr class="published" title="2011-01-23T00:55:00">
                                Sun 23 January 2011
                        </abbr>

                        <address class="vcard author">
                                By <a class="url fn" href="#">Dejan Noveski</a>
                        </address>
                        <p> In <a href=".././category/Coding.html">Coding</a></p>
                        <p>tags: <a href=".././tag/vim.html">vim</a> <a href=".././tag/plugin.html">plugin</a> <a href=".././tag/coding.html">coding</a> </p>
</p>
                    <p></p>
                </footer><!-- /.post-info -->
                <property object at 0x29fef18>
                <a class="readmore" href=".././w3cvalidatevim.html">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
    
        
     
        <li><article class="hentry">    
                <header>
                        <h1><a href=".././generate960py.html" rel="bookmark" title="Permalink to Generate960.py">Generate960.py</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
                        <abbr class="published" title="2011-01-15T12:06:00">
                                Sat 15 January 2011
                        </abbr>

                        <address class="vcard author">
                                By <a class="url fn" href="#">Dejan Noveski</a>
                        </address>
                        <p> In <a href=".././category/Coding.html">Coding</a></p>
                        <p>tags: <a href=".././tag/python.html">python</a> <a href=".././tag/960gs.html">960gs</a> <a href=".././tag/grids.html">grids</a> <a href=".././tag/design.html">design</a> </p>
</p>
                    <p></p>
                </footer><!-- /.post-info -->
                <property object at 0x29902b8>
                <a class="readmore" href=".././generate960py.html">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
    
        
     
        <li><article class="hentry">    
                <header>
                        <h1><a href=".././pyfacedetect.html" rel="bookmark" title="Permalink to PyFaceDetect">PyFaceDetect</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
                        <abbr class="published" title="2010-12-28T18:00:00">
                                Tue 28 December 2010
                        </abbr>

                        <address class="vcard author">
                                By <a class="url fn" href="#">Dejan Noveski</a>
                        </address>
                        <p> In <a href=".././category/Coding.html">Coding</a></p>
                        <p>tags: <a href=".././tag/python.html">python</a> <a href=".././tag/opencv.html">opencv</a> <a href=".././tag/face-detection.html">face-detection</a> </p>
</p>
                    <p></p>
                </footer><!-- /.post-info -->
                <property object at 0x2748418>
                <a class="readmore" href=".././pyfacedetect.html">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
    
        
     
        <li><article class="hentry">    
                <header>
                        <h1><a href=".././calculating-image-entropy-with-python-how-and-why.html" rel="bookmark" title="Permalink to Calculating image entropy with Python, How and Why?">Calculating image entropy with Python, How and Why?</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
                        <abbr class="published" title="2010-10-04T12:20:00">
                                Mon 04 October 2010
                        </abbr>

                        <address class="vcard author">
                                By <a class="url fn" href="#">Dejan Noveski</a>
                        </address>
                        <p> In <a href=".././category/Coding.html">Coding</a></p>
                        <p>tags: <a href=".././tag/development.html">development</a> <a href=".././tag/entropy.html">entropy</a> <a href=".././tag/image.html">image</a> <a href=".././tag/pil.html">pil</a> <a href=".././tag/python.html">python</a> </p>
</p>
                    <p></p>
                </footer><!-- /.post-info -->
                <property object at 0x2bbd368>
                <a class="readmore" href=".././calculating-image-entropy-with-python-how-and-why.html">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
    
        
     
        <li><article class="hentry">    
                <header>
                        <h1><a href=".././django-toolbox-for-komodo.html" rel="bookmark" title="Permalink to Django Toolbox for Komodo">Django Toolbox for Komodo</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
                        <abbr class="published" title="2010-05-03T16:08:00">
                                Mon 03 May 2010
                        </abbr>

                        <address class="vcard author">
                                By <a class="url fn" href="#">Vasil Vangelovski</a>
                        </address>
                        <p> In <a href=".././category/Coding.html">Coding</a></p>
                        <p>tags: <a href=".././tag/development.html">development</a> <a href=".././tag/editors.html">editors</a> <a href=".././tag/komodo.html">komodo</a> <a href=".././tag/django.html">django</a> </p>
</p>
                    <p></p>
                </footer><!-- /.post-info -->
                <property object at 0x2990940>
                <a class="readmore" href=".././django-toolbox-for-komodo.html">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
    
        
     
        <li><article class="hentry">    
                <header>
                        <h1><a href=".././jqcarousel-three-d.html" rel="bookmark" title="Permalink to JqCarousel Three-D">JqCarousel Three-D</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
                        <abbr class="published" title="2010-01-27T19:59:00">
                                Wed 27 January 2010
                        </abbr>

                        <address class="vcard author">
                                By <a class="url fn" href="#">Dejan Noveski</a>
                        </address>
                        <p> In <a href=".././category/Coding.html">Coding</a></p>
                        <p>tags: <a href=".././tag/javascript.html">javascript</a> <a href=".././tag/jquery.html">jquery</a> <a href=".././tag/plugin.html">plugin</a> <a href=".././tag/ui.html">ui</a> </p>
</p>
                    <p></p>
                </footer><!-- /.post-info -->
                <property object at 0x222b260>
                <a class="readmore" href=".././jqcarousel-three-d.html">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
    
        
     
        <li><article class="hentry">    
                <header>
                        <h1><a href=".././announcing-django-audit-log.html" rel="bookmark" title="Permalink to Announcing Django-audit-log">Announcing Django-audit-log</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
                        <abbr class="published" title="2009-12-22T21:39:00">
                                Tue 22 December 2009
                        </abbr>

                        <address class="vcard author">
                                By <a class="url fn" href="#">Vasil Vangelovski</a>
                        </address>
                        <p> In <a href=".././category/Coding.html">Coding</a></p>
                        <p>tags: <a href=".././tag/django.html">django</a> <a href=".././tag/python.html">python</a> <a href=".././tag/audit-log.html">audit-log</a> </p>
</p>
                    <p></p>
                </footer><!-- /.post-info -->
                <property object at 0x29fe158>
                <a class="readmore" href=".././announcing-django-audit-log.html">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
    
        
     
        <li><article class="hentry">    
                <header>
                        <h1><a href=".././livescape-jquery-live-landscape.html" rel="bookmark" title="Permalink to Livescape jQuery Live Landscape">Livescape jQuery Live Landscape</a></h1>
                </header>
                
                <div class="entry-content">
                <footer class="post-info">
                        <abbr class="published" title="2009-12-15T19:56:00">
                                Tue 15 December 2009
                        </abbr>

                        <address class="vcard author">
                                By <a class="url fn" href="#">Dejan Noveski</a>
                        </address>
                        <p> In <a href=".././category/Coding.html">Coding</a></p>
                        <p>tags: <a href=".././tag/javascript.html">javascript</a> <a href=".././tag/jquery.html">jquery</a> <a href=".././tag/plugin.html">plugin</a> <a href=".././tag/code.html">code</a> <a href=".././tag/ui.html">ui</a> </p>
</p>
                    <p></p>
                </footer><!-- /.post-info -->
                <property object at 0x2748aa0>
                <a class="readmore" href=".././livescape-jquery-live-landscape.html">read more</a>
                </div><!-- /.entry-content -->
        </article></li>
    

</ol><!-- /#posts-list -->
</section><!-- /#content -->


        <section id="extras" class="body">
        
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                        
                            <li><a href="http://atomidata.com/">Atomidata</a></li>
                        
                            <li><a href="http://pressedweb.com/">Pressed Web</a></li>
                        
                            <li><a href="http://flyeyedesign.com">Flyeye Design</a></li>
                        
                            <li><a href="/archives.html">Archives</a></li>
                        
                        </ul>
                </div><!-- /.blogroll -->
        
        
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href=".././feeds/all.atom.xml" rel="alternate">atom feed</a></li>
                            

                        
                            <li><a href="http://twitter.com/dekomote">@dekomote</a></li>
                        
                            <li><a href="http://twitter.com/itarpeyo">@ItarPeyo</a></li>
                        
                            <li><a href="https://bitbucket.org/vvangelovski/">Vasil's Bitbucket</a></li>
                        
                            <li><a href="https://bitbucket.org/dekomote/">Dejan's Bitbucket</a></li>
                        
                            <li><a href="https://github.com/dekomote">Dejan's Github</a></li>
                        
                            <li><a href="https://github.com/vvangelovski">Vasil's Github</a></li>
                        
                            <li><a href="mailto:info@atomidata.com">Mail Us</a></li>
                        
                        </ul>
                </div><!-- /.social -->
        
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                &copy; Brainacle 2011 | Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">Pelican</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->


</body>
</html>